(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{"5p9p":function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"site-function-set-box"},[r("Card",[r("CardRow",{staticClass:"publishing-title other"},[e._v("\n      其它功能\n    ")])],1),e._v(" "),r("Card",[r("CardRow",{staticClass:"card-points",attrs:{description:"关闭后，这些功能将无法在站内使用。(仅限小程序)"}},[r("el-checkbox",{model:{value:e.reward,callback:function(t){e.reward=t},expression:"reward"}},[e._v("打赏、悬赏、红包、匿名、私信、商品、帖子付费、用户组付费、充值，提现")])],1)],1),e._v(" "),r("Card",{staticClass:"recharge-points"},[r("div",{staticClass:"recharge-points__lf"},[r("el-checkbox",{model:{value:e.recharge,callback:function(t){e.recharge=t},expression:"recharge"}},[e._v("充值")])],1),e._v(" "),r("div",{staticClass:"recharge-points__rf"},[r("p",[e._v("开启后，用户可在站内自主充值钱包余额。")]),e._v(" "),r("p",[e._v("根据相关规定，开启自动充值功能站长需先取得ICP增值业务许可证，请确保已获取相关资质后开启本功能，否则责任自负")])])]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.handlePublishingSubmit}},[e._v("提交")])],1)},s=[]},ETVB:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r("QbLZ"));r("lpfh");var s=n(r("RIZz"));function n(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)({name:"site-function-set-view"},s.default)},RIZz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(r("4gYi")),s=n(r("pNQN"));function n(e){return e&&e.__esModule?e:{default:e}}t.default={data:function(){return{reward:!1,recharge:!1}},methods:{loadFunctionStatus:function(){var e=this;this.appFetch({url:"forum_get_v3",method:"get",data:{}}).then((function(t){if(t.errors)e.$message.error(t.errors[0].code);else{if(0!==t.Code)return void e.$message.error(t.Message);var r=t.Data;e.reward=r.other.threadOptimize,e.recharge=1===r.setSite.siteCharge}})).catch((function(e){}))},handlePublishingSubmit:function(){var e=this;this.appFetch({url:"thread_optimize_post",method:"post",data:{isDisplay:this.reward?1:0}}).then((function(t){if(t.errors)t.errors[0].detail?e.$message.error(t.errors[0].code+"\n"+t.errors[0].detail[0]):e.$message.error(t.errors[0].code);else{if(0!==t.Code)return void e.$message.error(t.Message);e.rechargePost()}})).catch((function(e){}))},rechargePost:function(){var e=this;this.appFetch({url:"settings_post_v3",method:"post",data:{data:[{key:"site_charge",value:this.recharge?1:0,tag:"default"}]}}).then((function(t){if(t.errors)e.$message.error(t.errors[0].code);else{if(0!==t.Code)return void e.$message.error(t.Message);e.$message({message:"提交成功",type:"success"}),e.loadFunctionStatus()}})).catch((function(t){e.$message.error("操作失败！")}))}},created:function(){this.loadFunctionStatus()},components:{Card:a.default,CardRow:s.default}}},l4bN:function(e,t,r){"use strict";r.r(t);var a=r("ETVB"),s=r.n(a);for(var n in a)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return a[e]}))}(n);t.default=s.a},xMor:function(e,t,r){"use strict";r.r(t);var a=r("5p9p"),s=r("l4bN");for(var n in s)["default"].indexOf(n)<0&&function(e){r.d(t,e,(function(){return s[e]}))}(n);var i=r("KHd+"),o=Object(i.a)(s.default,a.a,a.b,!1,null,null,null);t.default=o.exports}}]);