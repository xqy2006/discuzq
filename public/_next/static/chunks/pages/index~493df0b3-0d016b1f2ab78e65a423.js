_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{"/uIZ":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lSNA")),o=r(n("lwsE")),i=r(n("W8MJ")),c=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("q1tI")),d=n("GDuN"),f=n("lOmP"),p=n("DUBB");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,c.default)(n,e);var t=v(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=this.RenderComponent;return l.default.createElement(t,e,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:f.MenuItemGroupViewAdapter,logicalAdapter:p.MenuItemGroupLogicalAdapter}));t.default=b},"06iu":function(e,t,n){"use strict";var r=n("OJHF");n("4x5+");t.a=Object(r.a)({target:"plugin_index",hookNames:{before:"topping_insert_before_hook",replace:"topping_replace_hook",after:"topping_insert_after_hook"}})},"07iq":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lSNA")),o=r(n("lwsE")),i=r(n("W8MJ")),c=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("q1tI")),d=n("GDuN"),f=n("vqe8"),p=n("jJu3");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,c.default)(n,e);var t=v(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=this.RenderComponent;return l.default.createElement(t,e,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:f.SubMenuViewAdapter,logicalAdapter:p.SubMenuLogicalAdapter}));t.default=b},"0dKp":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebAdapter=void 0;t.WebAdapter={}},"1WgM":function(e,t,n){},"2qu3":function(e,t,n){"use strict";var r=n("lSNA"),a=n("lwsE"),o=n("W8MJ");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.__esModule=!0,t.default=void 0;var l,d=(l=n("q1tI"))&&l.__esModule?l:{default:l},f=n("8L3h"),p=n("jwwS");var h=[],v=[],b=!1;function j(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function m(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var a=j(e[r]);a.loading?t.loading=!0:(t.loaded[r]=a.loaded,t.error=a.error),n.push(a.promise),a.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(r){t.error=r}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function O(e,t){return d.default.createElement(function(e){return e&&e.__esModule?e.default:e}(e),t)}function y(e,t){var n=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:O,webpack:null,modules:null},t),r=null;function a(){if(!r){var t=new g(e,n);r={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return r.promise()}if(!b&&"function"===typeof n.webpack){var o=n.webpack();v.push((function(e){var t,n=s(o);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(-1!==e.indexOf(r))return a()}}catch(i){n.e(i)}finally{n.f()}}))}var i=function(e,t){a();var o=d.default.useContext(p.LoadableContext),i=(0,f.useSubscription)(r);return d.default.useImperativeHandle(t,(function(){return{retry:r.retry}}),[]),o&&Array.isArray(n.modules)&&n.modules.forEach((function(e){o(e)})),d.default.useMemo((function(){return i.loading||i.error?d.default.createElement(n.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:r.retry}):i.loaded?n.render(i.loaded,e):null}),[e,i])};return i.preload=function(){return a()},i.displayName="LoadableComponent",d.default.forwardRef(i)}var g=function(){function e(t,n){a(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return o(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;t.loading&&("number"===typeof n.delay&&(0===n.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),n.delay)),"number"===typeof n.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),n.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(t){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=c(c({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function x(e){return y(j,e)}function P(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return P(e,t)}))}x.Map=function(e){if("function"!==typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return y(m,e)},x.preloadAll=function(){return new Promise((function(e,t){P(h).then(e,t)}))},x.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return b=!0,t()};P(v,e).then(n,n)}))},window.__NEXT_PRELOADREADY=x.preloadReady;var w=x;t.default=w},"3V1/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("AZWT").MenuItemWebAdapter}});t.MenuItemLogicalAdapter=r},"5BGO":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("qePV"),n("i6QF"),n("kSko"),n("toAj");var r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=Number(e);return Number.isNaN(e)&&(t=0),t<1e4?t:(Number.isInteger(e),"".concat((e/1e4).toFixed(1),"W"))}},AZWT:function(e,t,n){},D21D:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lwsE")),o=r(n("W8MJ")),i=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),u=r(n("q1tI")),l=n("GDuN"),d=n("GMJm"),f=n("QGRJ"),p=r(n("KxVQ"));function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var v=function(e){(0,i.default)(n,e);var t=h(n);function n(e){var r;return(0,a.default)(this,n),r=t.call(this,e),(0,p.default)({componentName:"card"}),r}return(0,o.default)(n,[{key:"render",value:function(){var e=this.RenderComponent;return u.default.createElement(e,this.props,this.props.children)}}]),n}((0,l.baseComponentFactory)({viewAdapter:d.ViewAdapter,logicalAdapter:f.LogicalAdapter}));t.default=v},DUBB:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemGroupLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("R8S9").MenuItemGroupWebAdapter}});t.MenuItemGroupLogicalAdapter=r},GMJm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("iJNd").CardWebLayout}});t.ViewAdapter=r},H0SL:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("cMU6")}])},JqVm:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lSNA")),o=r(n("lwsE")),i=r(n("W8MJ")),c=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("q1tI")),d=n("GDuN"),f=n("P6kF"),p=n("3V1/");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,c.default)(n,e);var t=v(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=this.RenderComponent;return l.default.createElement(t,e,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:f.MenuItemViewAdapter,logicalAdapter:p.MenuItemLogicalAdapter}));t.default=b},L85e:function(e,t,n){"use strict";var r,a=n("nKUr"),o=n("o0o1"),i=n.n(o),c=(n("ls82"),n("yXPU")),s=n.n(c),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),f=n.n(d),p=n("7W2i"),h=n.n(p),v=n("a1gu"),b=n.n(v),j=n("Nsbk"),m=n.n(j),O=n("q1tI"),y=n.n(O),g=n("yuBF"),x=n("20a2"),P=n("VWce"),w=n("M2Pz"),k=n("5f2u"),N=n.n(k),S=n("wdT/"),I=n.n(S),C=n("sho3"),M=n("dJ22"),_=n("+3IH"),R=n("/Nde");function A(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var T=!1,D=Object(g.inject)("site")(r=Object(g.inject)("user")(r=Object(g.inject)("h5QrCode")(r=Object(g.inject)("commonLogin")(r=Object(g.inject)("invite")(r=Object(g.observer)(r=function(e){h()(n,e);var t=A(n);function n(e){var r;return l()(this,n),(r=t.call(this,e)).authorization=s()(i.a.mark((function e(){var t,n,a,o,c,s,u,l,d,f,p,h,v,b,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props,n=t.router,a=t.invite,o=n.query,c=o.code,s=o.sessionId,u=o.sessionToken,l=o.state,d=o.type,e.prev=2,!T){e.next=5;break}return e.abrupt("return");case 5:return T=!0,e.next=8,Object(C.h5WechatCodeLogin)({timeout:1e4,params:{code:c,sessionId:s,sessionToken:u,state:l,inviteCode:a.getInviteCode(n)}});case 8:if(f=e.sent,T=!1,-7016!==f.code){e.next=14;break}return p=f.data,h=p.sessionToken,v=p.nickname,n.push({pathname:"wx-select",query:{sessionToken:h,nickname:v}}),e.abrupt("return");case 14:if(0!==f.code||"h5"!==d){e.next=21;break}return b=Object(_.a)(f,"data.accessToken"),j=Object(_.a)(f,"data.uid"),Object(M.a)({accessToken:b}),r.props.user.updateUserInfo(j),window.location.href="/",e.abrupt("return");case 21:if(0!==f.code){e.next=25;break}return r.setState({loginTitle:"\u5df2\u6210\u529f\u767b\u5f55"}),r.props.h5QrCode.isBtn=!1,e.abrupt("return");case 25:throw Object(R.d)(f),{Code:f.code,Message:f.msg};case 29:throw e.prev=29,e.t0=e.catch(2),T=!1,r.setState({loginTitle:"\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u4e8c\u7ef4\u7801\u91cd\u65b0\u626b\u7801"}),r.props.h5QrCode.isBtn=!1,I.a.error({content:e.t0.Message}),{Code:"ulg_9999",Message:"\u7f51\u7edc\u9519\u8bef",error:e.t0};case 36:case"end":return e.stop()}}),e,null,[[2,29]])}))),r.state={loginTitle:"\u4f60\u786e\u5b9a\u8981\u6388\u6743\u767b\u5f55".concat(e.site.siteName,"\u5417\uff1f")},r}return f()(n,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:P.a.container,children:[Object(a.jsx)(w.a,{hideInfo:!0,mode:"login"}),Object(a.jsxs)("div",{className:P.a.content,children:[Object(a.jsx)("div",{className:P.a.title,children:this.state.loginTitle}),this.props.h5QrCode.isBtn?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(N.a,{className:P.a.button,type:"primary",onClick:this.authorization,children:"\u786e\u5b9a"})}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)(N.a,{className:P.a.exit,onClick:function(){e.setState({loginTitle:"\u5df2\u53d6\u6d88\u767b\u5f55"}),e.props.h5QrCode.isBtn=!1,window.wx&&window.wx.ready((function(){wx.closeWindow()}))},children:"\u9000\u51fa"})]})]})}}]),n}(y.a.Component))||r)||r)||r)||r)||r)||r;t.a=Object(x.withRouter)(D)},M2Pz:function(e,t,n){"use strict";n("ma9I"),n("4l63"),n("rB9j"),n("hByQ"),n("EnZy");var r,a=n("nKUr"),o=n("lSNA"),i=n.n(o),c=n("J4zp"),s=n.n(c),u=n("lwsE"),l=n.n(u),d=n("W8MJ"),f=n.n(d),p=n("7W2i"),h=n.n(p),v=n("a1gu"),b=n.n(v),j=n("Nsbk"),m=n.n(j),O=n("q1tI"),y=n.n(O),g=n("vqvd"),x=n("MCNy"),P=n.n(x),w=n("wdT/"),k=n.n(w),N=n("yuBF"),S=n("B5JU"),I=n.n(S),C=n("kjBj"),M=n("RiVy"),_=n("KBHl"),R=n("+3IH"),A=n("rOX+"),T=n.n(A),D=n("IvHc"),E=n("5BGO"),L=n("lN2P"),q=n("FeKq");function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b()(this,n)}}var B=Object(N.inject)("site")(r=Object(N.inject)("user")(r=Object(N.inject)("index")(r=Object(N.observer)(r=function(e){h()(n,e);var t=F(n);function n(){var e;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={visible:!1,height:180,loadWeiXin:!1,show:!1},e.domRef=y.a.createRef(null),e.logoImg="/dzq-img/admin-logo-x2.png",e.onClose=function(){e.setState({visible:!1})},e.onCancel=function(){e.setState({show:!1})},e.handleH5Share=function(){var t,n,r=e.props.user,a=(null===(t=document)||void 0===t?void 0:t.title)||"";T()({title:a,path:Object(_.a)("/".concat(location.search),{inviteCode:(null===r||void 0===r||null===(n=r.userInfo)||void 0===n?void 0:n.id)||""})}),k.a.info({content:"\u590d\u5236\u94fe\u63a5\u6210\u529f"}),e.onCancel()},e.handleWxShare=function(){e.setState({visible:!0}),e.onCancel()},e.handleClick=function(){e.props.user.isLogin()?e.setState({show:!0}):Object(D.a)({url:"/user/login"})},e.createCard=function(){I.a.push({url:"/card"})},e.handleExperience=function(){I.a.push({url:"/card?experience=1"})},e}return f()(n,[{key:"getBgHeaderStyle",value:function(e){var t,n=this.props.site.webConfig||{};return null!==(t=n.setSite)&&void 0!==t&&t.siteBackgroundImage?{backgroundImage:"url(".concat(n.setSite.siteBackgroundImage,")")}:e?{background:e}:{background:"#2469f6"}}},{key:"getLogo",value:function(){var e,t=this.props.site.webConfig||{};return null!==(e=t.setSite)&&void 0!==e&&e.siteHeaderLogo?t.setSite.siteHeaderLogo:this.logoImg}},{key:"getSiteInfo",value:function(){var e=this.props.site.webConfig,t={countUsers:0,countThreads:0,siteAuthor:"",createDays:0};e&&e.other&&(t.countUsers=e.other.countUsers,t.countThreads=e.other.countThreads);var n=Object(R.a)(e,"setSite.siteAuthor.username",""),r=Object(R.a)(e,"setSite.siteInstall","").split(" "),a=s()(r,1)[0],o=Date.parse(a),i=Date.parse(new Date),c=Object(E.a)(parseInt(Math.abs(o-i)/1e3/60/60/24,10));return t.siteAuthor=n,t.createDays=c,t}},{key:"componentDidMount",value:function(){this.setState({loadWeiXin:Object(M.a)()}),this.domRef.current&&this.setState({height:this.domRef.current.clientHeight})}},{key:"returnPage",value:function(){var e,t,n;(null===(e=window)||void 0===e||null===(t=e.history)||void 0===t||null===(n=t.state)||void 0===n?void 0:n.idx)<1?L.a.gotoIndex():I.a.back()}},{key:"render",value:function(){var e=this.props,t=e.bgColor,n=e.hideInfo,r=void 0!==n&&n,o=e.style,i=void 0===o?{}:o,c=e.digest,s=void 0===c?null:c,u=e.mode,l=void 0===u?"":u,d=e.site,f=this.state,p=f.visible,h=f.loadWeiXin,v=this.getSiteInfo(),b=v.countUsers,j=v.countThreads,m=v.siteAuthor,O=v.createDays,y=Object(R.a)(d,"webConfig.setSite.siteHeaderLogo","");return Object(a.jsxs)("div",{ref:this.domRef,className:"".concat(g.a.container," ").concat(l?g.a["container_mode_".concat(l)]:""),style:V(V({},i),this.getBgHeaderStyle(t)),children:[r&&"join"!==l&&Object(a.jsxs)("div",{className:g.a.topBar,children:["login"===l?Object(a.jsxs)("div",{onClick:this.returnPage,className:g.a.left,children:[Object(a.jsx)(P.a,{name:"LeftOutlined"}),"\u8fd4\u56de"]}):Object(a.jsx)(a.Fragment,{}),Object(a.jsx)("div",{children:Object(a.jsx)(P.a,{onClick:function(){return L.a.gotoIndex()},name:"HomeOutlined",color:"#fff",size:20})})]}),"join"!==l||y?Object(a.jsx)("div",{className:g.a.logoBox,children:Object(a.jsx)("img",{className:g.a.logo,mode:"aspectFit",src:this.getLogo(),alt:"\u56fe\u7247"})}):Object(a.jsx)("div",{className:g.a.joinLog,children:Object(a.jsx)("img",{className:g.a.logo,mode:"aspectFit",src:"/dzq-img/join-banner-bg.png",alt:"\u56fe\u7247"})}),s&&Object(a.jsxs)("div",{className:g.a.digest,children:[Object(a.jsxs)("div",{className:g.a.left,children:["\u7ad9\u957f ",s.admin]}),Object(a.jsxs)("div",{className:g.a.right,children:["\u5df2\u521b\u5efa ",s.day,"\u5929"]})]}),!r&&Object(a.jsxs)("ul",{className:g.a.siteInfo,children:[Object(a.jsxs)("li",{className:g.a.item,children:[Object(a.jsx)("span",{className:g.a.text,children:"\u6210\u5458"}),Object(a.jsx)("span",{className:g.a.content,children:Object(E.a)(b)})]}),Object(a.jsxs)("li",{className:g.a.item,children:[Object(a.jsx)("span",{className:g.a.text,children:"\u5185\u5bb9"}),Object(a.jsx)("span",{className:g.a.content,children:Object(E.a)(j)})]}),Object(a.jsxs)("li",{className:g.a.item,onClick:this.handleClick,children:[Object(a.jsx)(P.a,{className:g.a.shareIcon,color:"#fff",name:"ShareAltOutlined"}),Object(a.jsx)("span",{className:g.a.shareText,children:"\u5206\u4eab"})]})]}),Object(a.jsx)(q.a,{show:this.state.show,site:this.props.site,user:this.props.user,onClose:this.onCancel,handleH5Share:this.handleH5Share,handleWxShare:this.handleWxShare,createCard:this.createCard,handleExperience:this.handleExperience}),"join"===l&&Object(a.jsxs)("ul",{className:"".concat(g.a.siteInfo," ").concat(g.a.joinInfo),children:[Object(a.jsxs)("li",{className:g.a.item,children:[Object(a.jsx)("span",{className:g.a.text,children:"\u7ad9\u957f"}),Object(a.jsx)("span",{className:g.a.content,children:m})]}),Object(a.jsxs)("li",{className:g.a.item,children:[Object(a.jsx)("span",{className:g.a.text,children:"\u5df2\u521b\u5efa"}),Object(a.jsxs)("span",{className:g.a.content,children:[O,"\u5929"]})]})]}),h&&Object(a.jsx)(C.a,{visible:p,onClose:this.onClose})]})}}]),n}(y.a.Component))||r)||r)||r)||r;t.a=B},P6kF:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("WbHY").MenuItemWebLayout}});t.MenuItemViewAdapter=r},PYyG:function(e,t,n){},Pmcw:function(e,t,n){"use strict";var r=n("OJHF");n("4x5+");t.a=Object(r.a)({target:"plugin_index",hookNames:{replace:"tabs_replace_hook"}})},QGRJ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("0dKp").WebAdapter}});t.LogicalAdapter=r},QTJ1:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("1WgM").MenuWebAdapter}});t.MenuLogicalAdapter=r},R8S9:function(e,t,n){},Unay:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemGroupWebLayout=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),c=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("lSNA")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),f=n("VTYn"),p=r(n("TSYQ"));function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,c.default)(n,e);var t=v(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,r=e.title,a=this.context.clsPrefix,o="".concat(a,"-menu-item-group"),i="".concat(a,"-menu"),c=(0,p.default)(o,n);return d.default.createElement("div",{style:t,className:c},d.default.createElement("div",{className:"".concat(o,"__title")},r),d.default.createElement("ul",{className:i},this.props.children))}}]),n}(d.Component);t.MenuItemGroupWebLayout=b,(0,l.default)(b,"contextType",f.ConfigContext)},Vvt1:function(e,t,n){e.exports=n("a6RD")},WbHY:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemWebLayout=function(e){var t=e.style,n=e.className,r=e.index,a=e.disabled,u=e.divided,l=e.onClick,d=(0,o.useContext)(c.MenuContext),f=d.currentActiveItemIndex,p=d.setCurrentActiveItemIndex,h=d.setCurrentActiveSubMenuIndex,v=d.multiple,b=d.currentActiveItemIndexSet,j=d.setCurrentActiveItemIndexSet,m=d.currentActiveSubMenuIndexSet,O=d.setCurrentActiveSubMenuIndexSet,y=(0,o.useContext)(c.SubMenuContext).subMenuIndex,g=(0,o.useContext)(i.ConfigContext).clsPrefix,x="".concat(g,"-menu-item"),P=(0,s.default)(x,n,{"is-disabled":a,"is-active":v?b.has(r):f===r,"is-divided":u});return o.default.createElement("li",{style:t,className:P,onClick:function(e){a||(e.nativeEvent.stopImmediatePropagation(),v?(b.has(r)?b.delete(r):(b.add(r),m.add(y),O(m)),j(b)):(p(r),h(y)),"function"===typeof l&&l(r,y,b))}},e.children)};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),i=n("VTYn"),c=n("Z36A"),s=r(n("TSYQ"));function u(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}},WtUC:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("lwsE")),o=r(n("W8MJ")),i=r(n("7W2i")),c=r(n("a1gu")),s=r(n("Nsbk")),u=r(n("lSNA")),l=r(n("q1tI")),d=n("GDuN"),f=n("agnc"),p=n("QTJ1"),h=r(n("JqVm")),v=r(n("/uIZ")),b=r(n("07iq")),j=r(n("KxVQ"));function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var y=function(e){(0,i.default)(n,e);var t=O(n);function n(e){var r;return(0,a.default)(this,n),r=t.call(this,e),(0,j.default)({componentName:"menu"}),r}return(0,o.default)(n,[{key:"render",value:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.props),t=this.RenderComponent;return l.default.createElement(t,e,this.props.children)}}]),n}((0,d.baseComponentFactory)({viewAdapter:f.MenuViewAdapter,logicalAdapter:p.MenuLogicalAdapter}));t.default=y,(0,u.default)(y,"Item",h.default),(0,u.default)(y,"ItemGroup",v.default),(0,u.default)(y,"SubMenu",b.default)},"X+na":function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");n("ma9I"),Object.defineProperty(t,"__esModule",{value:!0}),t.SubMenuWebLayout=function(e){var t=e.style,n=e.className,r=e.title,a=e.index,f=e.onClick,p=(0,c.useContext)(u.MenuContext),h=p.uniqueOpened,v=p.mode,b=p.menuTrigger,j=p.hoverSubMenuIndex,m=p.setHoverSubMenuIndex,O=p.currentActiveSubMenuIndex,y=p.setCurrentActiveItemIndex,g=p.setCurrentActiveSubMenuIndex,x=p.multiple,P=p.currentActiveSubMenuIndexSet,w=p.setCurrentActiveSubMenuIndexSet,k=p.defaultOpeneds,N=(0,c.useContext)(s.ConfigContext).clsPrefix,S="".concat(N,"-submenu"),I="".concat(N,"-menu"),C=!1;k&&k.length&&(C=k.some((function(e){return e===a})));var M=(0,c.useState)(a===O||C),_=(0,i.default)(M,2),R=_[0],A=_[1],T=(0,l.default)(S,n,{"is-open":R}),D=x?P.has(a):a===O,E=(0,l.default)("".concat(S,"__title"),{"is-active":D});("horizontal"===v||h)&&(0,c.useEffect)((function(){A(a===O)}),[O]);var L=R?c.default.createElement("ul",{className:I},c.default.createElement(u.SubMenuContext.Provider,{value:{subMenuIndex:a}},e.children)):"",q={};if("horizontal"===v&&"hover"===b){L=a===j?c.default.createElement("ul",{className:I},c.default.createElement(u.SubMenuContext.Provider,{value:{subMenuIndex:a}},e.children)):"";q={onMouseEnter:function(e){return m(a),void A(!0)},onMouseLeave:function(e){return m(u.INITIAL_VALUE),void A(!1)}}}var W=function(e){e.nativeEvent.stopImmediatePropagation(),x?(P.has(a)?P.delete(a):P.add(a),w(P),A(!R)):(g(a),y(u.INITIAL_VALUE),A(!R)),"function"===typeof f&&f(a,!R,P)};return c.default.createElement("li",(0,o.default)({style:t,className:T},q),c.default.createElement("div",{className:E,onClick:function(e){return W(e)}},"horizontal"!==v&&c.default.createElement(d.default,{className:"".concat(S,"__icon"),name:"RightOutlined",size:12}),r,"horizontal"===v&&c.default.createElement(d.default,{className:"".concat(S,"__icon ").concat(S,"__icon--horizontal"),name:"RightOutlined",size:12})),L)};var o=r(n("pVnL")),i=r(n("J4zp")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),s=n("VTYn"),u=n("Z36A"),l=r(n("TSYQ")),d=r(n("MCNy"));function f(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}},Xol8:function(e,t,n){var r=n("hh1v"),a=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&a(e)===e}},Z36A:function(e,t,n){"use strict";n("4mDm"),n("07d7"),n("YGK4"),n("PKPk"),n("3bBZ"),Object.defineProperty(t,"__esModule",{value:!0}),t.SubMenuContext=t.MenuContext=t.INITIAL_VALUE=void 0;var r=n("q1tI"),a="-1";t.INITIAL_VALUE=a;var o=(0,r.createContext)({hoverSubMenuIndex:a,setHoverSubMenuIndex:function(){},currentActiveSubMenuIndex:a,setCurrentActiveSubMenuIndex:function(){},currentActiveItemIndex:a,setCurrentActiveItemIndex:function(){},uniqueOpened:!1,mode:"vertical",menuTrigger:"click",multiple:!1,currentActiveItemIndexSet:new Set,setCurrentActiveItemIndexSet:function(){},currentActiveSubMenuIndexSet:new Set,setCurrentActiveSubMenuIndexSet:function(){},defaultOpeneds:[]});t.MenuContext=o;var i=(0,r.createContext)({subMenuIndex:a});t.SubMenuContext=i},a6RD:function(e,t,n){"use strict";var r=n("lSNA");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.__esModule=!0,t.noSSR=s,t.default=function(e,t){var n=i.default,r={loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};e instanceof Promise?r.loader=function(){return e}:"function"===typeof e?r.loader=e:"object"===typeof e&&(r=o(o({},r),e));if(r=o(o({},r),t),"object"===typeof e&&!(e instanceof Promise)&&(e.render&&(r.render=function(t,n){return e.render(n,t)}),e.modules)){n=i.default.Map;var a={},c=e.modules();Object.keys(c).forEach((function(e){var t=c[e];"function"!==typeof t.then?a[e]=t:a[e]=function(){return t.then((function(e){return e.default||e}))}})),r.loader=a}r.loadableGenerated&&delete(r=o(o({},r),r.loadableGenerated)).loadableGenerated;if("boolean"===typeof r.ssr){if(!r.ssr)return delete r.ssr,s(n,r);delete r.ssr}return n(r)};c(n("q1tI"));var i=c(n("2qu3"));function c(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return delete t.webpack,delete t.modules,e(t)}},agnc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("guqU").MenuWebLayout}});t.MenuViewAdapter=r},cMU6:function(e,t,n){"use strict";n.r(t);n("ma9I"),n("TeQF"),n("yXV3"),n("oVuX"),n("ToJy"),n("07d7"),n("4l63"),n("5s+n"),n("rB9j"),n("UxlC");var r=n("nKUr"),a=n("lSNA"),o=n.n(a),i=n("o0o1"),c=n.n(i),s=(n("ls82"),n("yXPU")),u=n.n(s),l=n("lwsE"),d=n.n(l),f=n("W8MJ"),p=n.n(f),h=n("7W2i"),v=n.n(h),b=n("a1gu"),j=n.n(b),m=n("Nsbk"),O=n.n(m),y=n("q1tI"),g=n.n(y),x=n("yuBF"),P=(n("2B1R"),n("sMBO"),n("x83w"),n("PJYZ")),w=n.n(P),k=n("MCNy"),N=n.n(k),S=n("zkTq"),I=n.n(S),C=n("M2Pz"),M=n("Cccs"),_=n("y4MR"),R=(n("QWBl"),n("+2oP"),n("qePV"),n("FZtP"),n("RIqP")),A=n.n(R),T=n("5f2u"),D=n.n(T),E=n("k8W2"),L=n.n(E),q=n("lCl7"),W=n.n(q),V=n("z6Ap"),F=function(e,t){var n=/[^\x00-\xff]/g;if(e.replace(n,"**").length>t)for(var r=Math.floor(t/2),a=e.length;r<a;r++)if(e.substr(0,r).replace(n,"**").length>=t)return e.substr(0,r);return e},B=[{title:"\u7248\u5757",type:1,data:[]},{title:"\u7c7b\u578b",type:2,data:[]},{title:"\u7b5b\u9009",type:3,data:[{name:"\u5168\u90e8",pid:"0"},{name:"\u7cbe\u534e",pid:"1"},{name:"\u5df2\u5173\u6ce8",pid:"attention"}]}],H=n("20a2"),U=n("KBrO"),J=W.a.Col,G=W.a.Row,Q=function(e){var t=e.visible,n=e.data,a=void 0===n?[]:n,o=e.typelist,i=e.current,c=e.onSubmit,s=void 0===c?V.e:c,u=e.onCancel,l=void 0===u?V.e:u,d=e.router,f=Object(y.useState)("all"),p=f[0],h=f[1],v=Object(y.useState)(),b=v[0],j=v[1],m=Object(y.useState)(""),O=m[0],g=m[1],x=Object(y.useState)("0"),P=x[0],w=x[1],k=Object(y.useState)(a),S=k[0],I=k[1],C=Object(y.useState)([]),M=C[0],_=C[1];Object(y.useEffect)((function(){var e=B;e[0].data=a,e[1].data=[{name:"\u5168\u90e8",pid:"all"}].concat(A()(null===o||void 0===o?void 0:o.slice())),I(e)}),[null===o||void 0===o?void 0:o.length,null===a||void 0===a?void 0:a.length]),Object(y.useEffect)((function(){var e=i||{},t=e.categoryids,n=void 0===t?[]:t,r=e.types,a=void 0===r?"all":r,o=e.essence,c=e.attention;R(n),g(a||"all"),1===Number(o)&&w("1"),1===Number(c)&&w("attention")}),[i,t]);var R=function(e){if(null!==e&&void 0!==e&&e.length){var t=e[0],n=1===e.length&&("all"===e[0]||"default"===e[0]);if(e.length>1||n)h(t),T(t,a);else((null===a||void 0===a?void 0:a.filter((function(e){return e.pid===t})))||[]).length?(h(t),T(t,a)):(j(t),null===a||void 0===a||a.filter((function(e){var t;return null===(t=e.children)||void 0===t?void 0:t.length})).forEach((function(e){e.children.forEach((function(n){n.pid===t&&(h(e.pid),T(e.pid,a))}))})))}else h("all")},T=function(e,t){var n=null===t||void 0===t?void 0:t.filter((function(t){return t.pid===e}));n.length?_(n[0].children||[]):_([])},E=function(){d.push("/search")},q=function(){l()},W=function(e,t){var n=e.type,a=e.data,o=e.title,i=p;return 1===t?i=O:2===t&&(i=P),a?Object(r.jsxs)("div",{className:U.a.moduleWrapper,children:[Object(r.jsxs)("div",{className:U.a.title,children:[Object(r.jsx)("span",{children:o}),0===t&&Object(r.jsx)(N.a,{className:U.a.searchIcon,name:"SearchOutlined",size:20,onClick:E})]}),Object(r.jsx)(G,{className:U.a.wrapper,gutter:10,children:a.map((function(e,t){return Object(r.jsx)(J,{span:e.name.length<6?3:6===e.name.length?4:5,children:Object(r.jsx)("span",{className:"".concat(i===e.pid?U.a.active:""," ").concat(U.a.span),onClick:function(){return function(e,t,n){1===t?(h(e),j(""),T(e,n)):2===t?g(e):w(e)}(e.pid,n,a)},children:e.name.length>6?F(e.name,12):e.name})},t)}))}),1===n&&M.length?Object(r.jsx)(G,{className:"".concat(U.a.wrapper," ").concat(U.a.childrenWrapper),gutter:10,children:M.map((function(e,t){return Object(r.jsx)(J,{span:e.name.length<6?3:6===e.name.length?4:5,children:Object(r.jsx)("span",{className:"".concat(b===e.pid?U.a.childrenActive:""," ").concat(U.a.childrenSpan),onClick:function(){return function(e,t){1===t&&j(e)}(e.pid,n)},children:e.name.length>6?F(e.name,12):e.name})},"".concat(t,"-").concat(t))}))}):null]},t):null};return Object(r.jsx)(L.a,{position:"bottom",visible:t,onClose:q,children:Object(r.jsxs)("div",{className:U.a.container,children:[Object(r.jsx)("div",{className:U.a.content,children:Object(r.jsx)("div",{className:U.a.list,children:S&&S.map((function(e,t){return W(e,t)}))})}),Object(r.jsxs)("div",{className:U.a.footer,children:[Object(r.jsx)(D.a,{className:U.a.button,onClick:function(){var e=0;"default"===p&&(e=1);var t=[p];if(b)t=[b];else{var n,r,a,o,i,c,u=null===(n=S[0])||void 0===n||null===(r=n.data)||void 0===r?void 0:r.filter((function(e){return e.pid===p}));if(u.length&&null!==(a=u[0])&&void 0!==a&&null!==(o=a.children)&&void 0!==o&&o.length)t=[p],null===(i=u[0])||void 0===i||null===(c=i.children)||void 0===c||c.forEach((function(e){t.push(e.pid)}))}var l="0",d="0";"attention"===P?l="1":d=P,s({categoryids:t,types:O,essence:d,sequence:e,attention:l})},type:"primary",children:"\u7b5b\u9009"}),Object(r.jsx)("div",{className:U.a.footerBtn,onClick:q,children:Object(r.jsx)("span",{className:U.a.footerBtnText,children:"\u53d6\u6d88"})})]})]})})},z=Object(H.withRouter)(g.a.memo(Q)),Y=n("INMq"),K=n("iehV"),Z=(n("L85e"),n("TSYQ")),X=n.n(Z),$=n("Vvt1"),ee=n.n($),te=n("jqTq"),ne=n.n(te),re=n("wY5V");function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ie(e){var t=e.data,n=e.loadComponent,a=void 0===n?null:n,o=e.style,i=void 0===o?{}:o;return Object(r.jsx)("div",{style:oe({},i),className:re.a.loadingBox,children:t.error?Object(r.jsx)("p",{className:re.a.text,children:"\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u91cd\u8bd5"}):a||Object(r.jsx)(ne.a,{color:"#c5c6cb",type:"spinner"})})}var ce=n("TibX"),se=(n("B6y2"),function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d()(this,e),this.addVideoEventListeneres=function(e){if(e.element){var t=function(){e.isRecorded=!0};e.element.addEventListener("volumechange",(function(){e.element.muted||t()})),e.element.addEventListener("seeked",(function(){e.isFirst?e.isFirst=!1:t()}))}},this.checkVideoPlay=function(e,n){var r=t.getPlayingVideo();if(!(null===r||void 0===r?void 0:r.element))for(var a=e;a<=n;){var o=t.getVideo(a),i=document.querySelector('div[data-index="'.concat(a,'"] #common-video-play video'));if(i&&i.play){var c=i.getBoundingClientRect(),s=c.top,u=c.bottom;if(s>t.topInstance&&u<window.innerHeight-t.bottomInstance&&i&&i.play)return i.muted=!0,i.currentTime=(null===o||void 0===o?void 0:o.currentTime)||0,i.play(),void t.addVideo(a,i)}a+=1}},this.checkVideoPlause=function(){var e=t.getPlayingVideo(),n=null===e||void 0===e?void 0:e.element;if(n){var r=n.getBoundingClientRect(),a=r.top,o=r.bottom;if(a<=t.topInstance||o>=window.innerHeight-t.bottomInstance){if(n.pause(),e.status="pause",e.isRecorded)return e.currentTime=n.currentTime,void(e.element=null);t.deleteVideo(e.key)}}},this.videoMap={},this.platform=n.platform||"pc",this.topInstance="pc"===this.platform?135:52,this.bottomInstance="pc"===this.platform?0:65}return p()(e,[{key:"addVideo",value:function(e,t){var n,r,a={key:e,element:t,isRecorded:(null===(n=this.videoMap[e])||void 0===n?void 0:n.isRecorded)||!1,currentTime:(null===(r=this.videoMap[e])||void 0===r?void 0:r.currentTime)||0,status:"play",isFirst:!0};this.videoMap[e]=a,this.addVideoEventListeneres(this.videoMap[e])}},{key:"deleteVideo",value:function(e){this.videoMap[e]=null}},{key:"getVideo",value:function(e){return this.videoMap[e]}},{key:"getPlayingVideo",value:function(){var e;return Object.values(this.videoMap).forEach((function(t){"play"===(null===t||void 0===t?void 0:t.status)&&(e=t)})),e}}]),e}()),ue=n("DTmq");var le,de=n("ZlQF"),fe=n("06iu"),pe=n("OJHF"),he=(n("4x5+"),Object(pe.a)({target:"plugin_index",hookNames:{before:"header_insert_before_hook",replace:"header_replace_hook",after:"header_insert_after_hook"}})),ve=n("Pmcw");function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var Oe=Object(x.inject)("site")(le=Object(x.inject)("user")(le=Object(x.inject)("index")(le=Object(x.inject)("thread")(le=Object(x.inject)("baselayout")(le=Object(x.observer)(le=function(e){v()(a,e);var t=me(a);function a(e){var o,i,c,s;return d()(this,a),(s=t.call(this,e)).DynamicVListLoading=ee()((function(){return Promise.all([n.e(0),n.e(4),n.e(5),n.e(2),n.e(90)]).then(n.bind(null,"5qfE"))}),{loading:function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{ref:s.headerRef,children:Object(r.jsx)(he,{component:Object(r.jsx)(C.a,{})})}),Object(r.jsx)(ie,{data:e,style:{padding:"0 0 20px"},loadComponent:Object(r.jsxs)("div",{style:{width:"100%"},children:[Object(r.jsxs)("div",{className:M.a.placeholder,children:[Object(r.jsxs)("div",{className:M.a.header,children:[Object(r.jsx)("div",{className:M.a.avatar}),Object(r.jsx)("div",{className:M.a.box})]}),Object(r.jsx)("div",{className:M.a.content}),Object(r.jsx)("div",{className:M.a.content}),Object(r.jsxs)("div",{className:M.a.footer,children:[Object(r.jsx)("div",{className:M.a.box}),Object(r.jsx)("div",{className:M.a.box}),Object(r.jsx)("div",{className:M.a.box})]})]}),Object(r.jsxs)("div",{className:M.a.placeholder,children:[Object(r.jsxs)("div",{className:M.a.header,children:[Object(r.jsx)("div",{className:M.a.avatar}),Object(r.jsx)("div",{className:M.a.box})]}),Object(r.jsx)("div",{className:M.a.content}),Object(r.jsx)("div",{className:M.a.content}),Object(r.jsxs)("div",{className:M.a.footer,children:[Object(r.jsx)("div",{className:M.a.box}),Object(r.jsx)("div",{className:M.a.box}),Object(r.jsx)("div",{className:M.a.box})]})]})]})})]})},loadableGenerated:{webpack:function(){return["5qfE"]},modules:["./components/dynamic-vlist"]}}),s.searchClick=function(){s.setState({visible:!0})},s.onClose=function(){s.setState({visible:!1})},s.onClickTabBar=function(e,t){0===t&&s.changeFilter()},s.onClickTab=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";s.changeFilter({categoryids:[e],sequence:"default"===e?1:0})},s.changeFilter=function(e){var t=s.props,n=t.index,r=t.dispatch,a=void 0===r?function(){}:r;if(e){var o=e.categoryids,i=n.categories||[],c=o[0],u=Object(K.d)(i,c),l=je(je(je({},n.filter),e),{},{categoryids:u});n.setFilter(l)}a("click-filter"),s.setState({visible:!1})},s.onRefresh=function(){var e,t,n,r=s.props.dispatch,a=void 0===r?function(){}:r;if(null!==(e=s.props.index)&&void 0!==e&&null!==(t=e.threads)&&void 0!==t&&null!==(n=t.pageData)&&void 0!==n&&n.length)return a("moreData")},s.checkVideoPlay=Object(ce.a)((function(e,t){var n;null===(n=s.autoplay)||void 0===n||n.checkVideoPlay(e,t)}),1e3),s.checkVideoPlause=Object(ce.b)((function(){var e;null===(e=s.autoplay)||void 0===e||e.checkVideoPlause()}),50),s.handleScroll=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scrollTop,r=void 0===n?0:n,a=t.startNum,o=t.stopNum,i=(null===(e=s.headerRef.current)||void 0===e?void 0:e.clientHeight)||180,c=s.state.fixedTab;s.checkVideoPlause(),s.checkVideoPlay(a,o),!c&&r>=i?s.setState({fixedTab:!0}):c&&r<i&&s.setState({fixedTab:!1})},s.renderTabs=function(){var e=s.state.fixedTab,t=s.props.index,n=t.categories,a=void 0===n?[]:n,o=t.activeCategoryId,i=t.currentCategories,c=(null===a||void 0===a?void 0:a.length)>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{ref:s.listRef,className:"".concat(M.a.homeContent," ").concat(!s.enableVlist&&e&&M.a.fixed),children:Object(r.jsx)(I.a,{className:M.a.tabsBox,scrollable:!0,type:"primary",onActive:s.onClickTab,activeId:o,tabBarExtraContent:Object(r.jsx)("div",{onClick:s.searchClick,className:M.a.tabIcon,children:Object(r.jsx)(N.a,{name:"SecondaryMenuOutlined",className:M.a.buttonIcon,size:16})}),children:null===i||void 0===i?void 0:i.map((function(e,t){return Object(r.jsx)(I.a.TabPanel,{id:e.pid,label:e.name},t)}))})}),!s.enableVlist&&e&&Object(r.jsx)("div",{className:M.a.tabPlaceholder})]});return Object(r.jsx)(ve.a,{component:c,changeFilter:function(e){return s.changeFilter(e)},renderData:{categories:a}})},s.renderHeaderContent=function(){var e=(s.props.index||{}).sticks,t=void 0===e?[]:e,n=Object(r.jsx)(r.Fragment,{children:(null===t||void 0===t?void 0:t.length)>0&&Object(r.jsx)("div",{className:M.a.homeContentTop,children:Object(r.jsx)(_.a,{data:t,itemMargin:"1"})})});return Object(r.jsx)(fe.a,{component:n,renderData:{sticks:t}})},s.state={visible:!1,isFinished:!0,fixedTab:!1},s.listRef=Object(y.createRef)(),s.headerRef=Object(y.createRef)(null),s.enableVlist=!0,s.handleScroll=s.handleScroll.bind(w()(s)),s.onRefresh=s.onRefresh.bind(w()(s)),((null===(o=s.props.site)||void 0===o||null===(i=o.webConfig)||void 0===i||null===(c=i.qcloud)||void 0===c?void 0:c.qcloudVodAutoPlay)||!1)&&(s.autoplay=new se({platform:"h5"})),s}return p()(a,[{key:"componentDidMount",value:function(){var e=this.props.site.checkSiteIsOpenDefautlThreadListData();this.props.index.setNeedDefault(e)}},{key:"renderSSRContent",value:function(e,t){return null}},{key:"render",value:function(){var e=this,t=this.props,n=t.index,a=t.thread,o=a.hasRedPacket,i=this.state.isFinished,c=n.threads,s=void 0===c?{}:c,u=n.currentCategories,l=n.filter,d=n.threadError,f=n.sticks,p=s||{},h=p.currentPage,v=p.totalPage,b=p.pageData;return Object(r.jsxs)(Y.a,{showHeader:!1,showTabBar:!o,onRefresh:this.onRefresh,noMore:h>=v,isFinished:i,onScroll:this.handleScroll,quickScroll:!0,curr:"home",pageName:"home",requestError:d.isError,errorText:d.errorText,onClickTabBar:this.onClickTabBar,disabledList:this.enableVlist,children:[Object(r.jsxs)(y.Fragment,{children:[Object(r.jsx)("div",{className:X()(M.a.vTabs,"text",this.state.fixedTab&&M.a.vFixed),children:this.renderTabs()}),this.renderSSRContent(n.threads,n.sticks),Object(r.jsxs)(this.DynamicVListLoading,{pageData:b,sticks:f,onScroll:this.handleScroll,loadNextPage:this.onRefresh,noMore:h>=v,requestError:d.isError,errorText:d.errorText,platform:"h5",children:[Object(r.jsx)("div",{ref:this.headerRef,children:Object(r.jsx)(he,{component:Object(r.jsx)(C.a,{})})}),Object(r.jsx)(x.Observer,{children:function(){return e.renderTabs()}}),Object(r.jsx)(x.Observer,{children:function(){return e.renderHeaderContent()}})]})]}),Object(r.jsx)(z,{data:u,typelist:this.props.index.threadTypelist,current:l,onCancel:this.onClose,visible:this.state.visible,onSubmit:this.changeFilter}),o>0&&Object(r.jsx)(ue.a,{onClose:function(){return a.setRedPacket(0)},money:o})]})}}]),a}(g.a.Component))||le)||le)||le)||le)||le)||le,ye=(n("R5XZ"),n("q5CV")),ge=(n("EnZy"),n("WtUC")),xe=n.n(ge),Pe=n("D21D"),we=n.n(Pe),ke=n("np9d"),Ne=n("n4oF"),Se=n("ni5c"),Ie=function(e){var t=e.categories,n=void 0===t?[]:t,a=e.totalThreads,o=void 0===a?0:a,i=e.onNavigationClick,c=void 0===i?V.e:i,s=e.defaultFisrtIndex,u=void 0===s?"all":s,l=e.defaultSecondIndex,d=void 0===l?"all":l,f=e.isError,p=void 0!==f&&f,h=e.errorText,v=Object(y.useState)(u),b=v[0],j=v[1],m=Object(y.useState)(d),O=m[0],g=m[1];Object(y.useEffect)((function(){j(u),g(d)}),[u,d]);var x=function(e,t){var n=e.split("/");1!==n.length?(j(n[0]),g(n[1]),n="all"===n[1]?[n[0]]:[n[1]]):(j(n[0]),g("all")),c({categoryIds:n})},P=function(){if(!Object(Ne.a)())return{innerHeight:Object(Ne.a)()?null:window.innerHeight,innerWidth:Object(Ne.a)()?null:window.innerWidth}},w=Object(y.useState)(P()),k=w[0],N=w[1],S=function(e,t){var n=null;return function(){null!==n&&clearTimeout(n),n=setTimeout(e,t)}}((function(){N(P())}),50);Object(y.useEffect)((function(){return Object(Ne.a)()||window.addEventListener("resize",S),function(){window.removeEventListener("resize",S)}}));var I=function(e){var t=e.pid,n=e.name,a=e.threadCount;return Object(r.jsxs)("div",{className:ke.a.subMenuBox,children:[Object(r.jsx)(de.a,{href:t?"/cate=".concat(t,"/seq/0"):"/",text:"\u5206\u7c7b_".concat(n)}),Object(r.jsx)("span",{className:ke.a.ellipsis,children:n}),Object(r.jsx)("span",{className:ke.a.span,children:"\u5168\u90e8"===n?o:a})]})},C=function(e){var t=e.pid,n=e.name,a=e.threadCount;return Object(r.jsxs)("div",{children:[Object(r.jsx)(de.a,{href:t?"/cate=".concat(t,"/seq/0"):"/",text:"\u5206\u7c7b_".concat(n)}),Object(r.jsx)("span",{className:ke.a.ellipsis,children:n}),Object(r.jsx)("span",{className:ke.a.subSpan,children:a})]})},M=function(){return Object(r.jsx)(xe.a,{defaultOpeneds:["".concat(b)],defaultSubmenuActives:["".concat(b)],defaultActives:["".concat(b,"/").concat(O)],children:null===n||void 0===n?void 0:n.map((function(e,t){var n;return(null===e||void 0===e||null===(n=e.children)||void 0===n?void 0:n.length)>0?Object(r.jsx)(xe.a.SubMenu,{index:"".concat(e.pid),title:I(e),onClick:x,children:e.children.map((function(t,n){return Object(r.jsx)(xe.a.Item,{index:"".concat(e.pid,"/").concat(t.pid),onClick:x,children:C(t)},n)}))},t):Object(r.jsx)(xe.a.Item,{index:"".concat(e.pid,"/all"),onClick:x,children:I(e)},t)}))})};return Object(r.jsx)(we.a,{className:"".concat(ke.a.container," ").concat(ke.a.verticalScrollbar),style:{background:"#fff",overflowY:"auto",maxHeight:(null===k||void 0===k?void 0:k.innerHeight)-95||"600px"},bordered:!1,children:null!==n&&void 0!==n&&n.length?Object(r.jsx)(M,{}):Object(r.jsx)(Se.a,{isBox:!0,isError:p,errorText:h,noMore:!1,loadingText:"\u6b63\u5728\u52a0\u8f7d",noMoreText:"\u6682\u65e0\u6570\u636e"})})},Ce=g.a.memo(Ie),Me=n("7BN5"),_e=n("Wpw2"),Re=n("wXCO"),Ae=n("sho3"),Te=(n("1RP4"),n("KmGp"));function De(){return Object(r.jsx)(Y.a,{showRefresh:!1,className:"home",noHeader:!0,left:function(){return Object(r.jsx)("div",{style:{width:"100%"},children:Object(r.jsxs)("div",{className:Te.a.leftPlaceholder,children:[Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsx)("div",{className:Te.a.content})]})})},right:function(){return Object(r.jsx)("div",{style:{width:"100%"},children:Object(r.jsxs)("div",{className:Te.a.rightPlaceholder,children:[Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsx)("div",{className:Te.a.content})]})})},children:Object(r.jsxs)("div",{style:{width:"100%"},children:[Object(r.jsxs)("div",{className:Te.a.placeholder,children:[Object(r.jsxs)("div",{className:Te.a.header,children:[Object(r.jsx)("div",{className:Te.a.avatar}),Object(r.jsx)("div",{className:Te.a.box})]}),Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsxs)("div",{className:Te.a.footer,children:[Object(r.jsx)("div",{className:Te.a.box}),Object(r.jsx)("div",{className:Te.a.box}),Object(r.jsx)("div",{className:Te.a.box})]})]}),Object(r.jsxs)("div",{className:Te.a.placeholder,children:[Object(r.jsxs)("div",{className:Te.a.header,children:[Object(r.jsx)("div",{className:Te.a.avatar}),Object(r.jsx)("div",{className:Te.a.box})]}),Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsx)("div",{className:Te.a.content}),Object(r.jsxs)("div",{className:Te.a.footer,children:[Object(r.jsx)("div",{className:Te.a.box}),Object(r.jsx)("div",{className:Te.a.box}),Object(r.jsx)("div",{className:Te.a.box})]})]})]})})}var Ee=n("QcND"),Le=n("kBz5");var qe,We=Object(pe.a)({target:"plugin_index",hookNames:{replace:"recommend_replace_hook"}}),Ve=Object(pe.a)({target:"plugin_index",hookNames:{replace:"qrcode_replace_hook"}}),Fe=Object(pe.a)({target:"plugin_index",hookNames:{replace:"copyright_replace_hook"}}),Be=Object(pe.a)({target:"plugin_index",hookNames:{replace:"left_replace_hook"}}),He=Object(pe.a)({target:"plugin_index",hookNames:{replace:"right_replace_hook"}});function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var Qe,ze=ee()((function(){return Promise.all([n.e(0),n.e(4),n.e(5),n.e(2),n.e(91)]).then(n.bind(null,"aPxr"))}),{loading:function(e){return Object(r.jsx)("div",{style:{width:"100%",maxWidth:"1420px"},children:Object(r.jsx)(ie,{data:e,style:{padding:"0 0 20px"},loadComponent:Object(r.jsx)(De,{})})})},loadableGenerated:{webpack:function(){return["aPxr"]},modules:["./components/dynamic-vlist"]}}),Ye=Object(x.inject)("site")(qe=Object(x.inject)("user")(qe=Object(x.inject)("index")(qe=Object(x.inject)("thread")(qe=Object(x.observer)(qe=function(e){v()(n,e);var t=Ge(n);function n(e){var a,o,i,c;return d()(this,n),(c=t.call(this,e)).handleIntervalRequest=function(){var e,t=c.props.index.filter,n=t.essence,r=t.attention,a=t.sort,o=t.sequence,i=((null===(e=c.props.index)||void 0===e?void 0:e.threads)||{}).totalCount,s=void 0===i?-1:i,u=Object(K.e)(t,"types"),l=Object(K.e)(t,"categoryids");-1!==s&&Object(Ae.readThreadList)({params:{perPage:10,page:1,filter:{categoryids:l,types:u,essence:n,attention:r,sort:a},sequence:o}}).then((function(e){var t=((null===e||void 0===e?void 0:e.data)||{}).totalCount,n=(void 0===t?0:t)-s,r=c.state,a=r.conNum,o=void 0===a?0:a;r.visible;n>o&&c.setState({visible:!0,conNum:n})}))},c.onSearch=function(e){e&&c.props.router.push("/search?keyword=".concat(e||""))},c.onPullingUp=function(){var e,t,n,r=c.props.dispatch,a=void 0===r?function(){}:r;if(null!==(e=c.props.index)&&void 0!==e&&null!==(t=e.threads)&&void 0!==t&&null!==(n=t.pageData)&&void 0!==n&&n.length)return a("moreData")},c.onFilterClick=function(e){var t=e.sequence,n=e.filter,r=n.types,a=n.sort,o=n.essence,i=n.attention;c.changeFilter({types:r,sort:a,essence:o,attention:i,sequence:t})},c.onNavigationClick=function(e){var t=e.categoryIds,n=c.props.index.currentCategories||[],r=t[0],a=Object(K.d)(n,r);c.changeFilter({categoryids:a})},c.changeFilter=function(e){var t=c.props,n=t.index,r=t.dispatch,a=void 0===r?function(){}:r;if(e){var o=Je(Je({},n.filter),e);n.setFilter(o)}a("click-filter"),c.setState({visible:!1})},c.goRefresh=function(){var e=c.props.dispatch;(void 0===e?function(){}:e)("refresh-thread").then((function(e){c.setState({visible:!1,conNum:0})}))},c.onPostThread=function(){c.props.canPublish("comment")&&c.props.router.push("/thread/post")},c.renderLeft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=c.props.index,n=t.currentCategories,a=t.activeCategoryId,o=t.activeChildCategoryId,i=t.categoryError,s=Object(r.jsx)("div",{className:ye.a.indexLeft,children:Object(r.jsx)("div",{className:ye.a.indexLeftBox,children:Object(r.jsx)(Ce,{categories:n,defaultFisrtIndex:a,defaultSecondIndex:o,totalThreads:e,onNavigationClick:c.onNavigationClick,isError:i.isError,errorText:i.errorText})})});return Object(r.jsx)(Be,{component:s,renderData:{categories:n,activeCategoryId:a,activeChildCategoryId:o,totalThreads:e,isError:i.isError,errorText:i.errorText},onNavigationClick:c.onNavigationClick})},c.renderRight=function(e){var t,n,a,o=c.props.index||{},i=o.recommends,s=o.getRecommends,u=null===(t=c.props.site)||void 0===t||null===(n=t.webConfig)||void 0===n||null===(a=n.setSite)||void 0===a?void 0:a.siteUrl,l=Object(r.jsxs)("div",{className:ye.a.indexRight,children:[Object(r.jsx)(We,{component:Object(r.jsx)(_e.a,{}),onGetRecommends:s,renderData:{recommends:i}}),Object(r.jsx)(Ve,{component:Object(r.jsx)("div",{className:ye.a.indexRightCon,children:Object(r.jsx)(Me.a,{})}),renderData:{url:u}}),Object(r.jsx)(Fe,{component:Object(r.jsx)(Re.a,{})})]});return Object(r.jsx)(He,{component:l,onGetRecommends:s,renderData:{recommends:i,url:u}})},c.checkVideoPlay=Object(ce.a)((function(e,t){var n;null===(n=c.autoplay)||void 0===n||n.checkVideoPlay(e,t)}),1e3),c.checkVideoPlause=Object(ce.b)((function(){var e;null===(e=c.autoplay)||void 0===e||e.checkVideoPlause()}),50),c.handleScroll=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startNum,n=e.stopNum;c.checkVideoPlause(),c.checkVideoPlay(t,n)},c.state={visible:!1,conNum:0,isShowDefault:c.checkIsOpenDefaultTab()},c.enabledVList=!0,c.timer=null,c.listRef=g.a.createRef(),c.onFilterClick=c.onFilterClick.bind(w()(c)),c.onPostThread=c.onPostThread.bind(w()(c)),c.goRefresh=c.goRefresh.bind(w()(c)),c.onPullingUp=c.onPullingUp.bind(w()(c)),c.renderLeft=c.renderLeft.bind(w()(c)),c.renderRight=c.renderRight.bind(w()(c)),((null===(a=c.props.site)||void 0===a||null===(o=a.webConfig)||void 0===o||null===(i=o.qcloud)||void 0===i?void 0:i.qcloudVodAutoPlay)||!1)&&(c.autoplay=new se({platform:"pc"})),c}return p()(n,[{key:"componentDidMount",value:function(){var e=this;this.timer&&clearInterval(this.timer),this.timer=setInterval((function(){e.handleIntervalRequest()}),3e4)}},{key:"componentWillUnmount",value:function(){this.timer&&clearInterval(this.timer)}},{key:"checkIsOpenDefaultTab",value:function(){return this.props.site.checkSiteIsOpenDefautlThreadListData()}},{key:"renderSSRContent",value:function(e,t){return null}},{key:"render",value:function(){var e,t=this.props,n=t.index,a=t.site,o=t.thread,i=t.canPublish,c=o.hasRedPacket,s=((null===a||void 0===a||null===(e=a.webConfig)||void 0===e?void 0:e.other)||{}).countThreads,u=void 0===s?0:s,l=n.threads||{},d=l.currentPage,f=l.totalPage,p=n.threadError,h=this.state,v=h.visible,b=h.conNum,j=h.isShowDefault;return Object(r.jsxs)(Y.a,{onSearch:this.onSearch,onRefresh:this.onPullingUp,noMore:d>=f,onScroll:this.onScroll,quickScroll:!0,showRefresh:!1,left:this.renderLeft(u),right:this.renderRight(),pageName:"home",requestError:p.isError,errorText:p.errorText,className:"home",disabledList:this.enabledVList,onRefreshPlaceholder:this.onRefreshPlaceholder,children:[this.renderSSRContent(n.threads,n.sticks,u),Object(r.jsx)(ze,{indexStore:n,siteStore:a,onScroll:this.handleScroll,visible:v,conNum:b,noMore:d>=f,requestError:p.isError,errorText:p.errorText,isShowDefault:j,onFilterClick:this.onFilterClick,onPostThread:this.onPostThread,goRefresh:this.goRefresh,loadNextPage:this.onPullingUp,renderRight:this.renderRight,renderLeft:this.renderLeft,enabledVList:this.enabledVList,canPublish:i}),c>0&&Object(r.jsx)(Le.a,{onClose:function(){return o.setRedPacket(0)},money:c})]})}}]),n}(g.a.Component))||qe)||qe)||qe)||qe)||qe,Ke=Object(H.withRouter)(Ye),Ze=n("J0pL"),Xe=n("lY1M"),$e=(n("pDQq"),n("J4zp")),et=n.n($e);function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e,t){var n={categoryids:["all"],sequence:0,sort:1,attention:0,types:"all",essence:0};try{var r,a,o,i=e.query.slug;if(!i)(i=null===e||void 0===e||null===(o=e.asPath)||void 0===o?void 0:o.split("/")).splice(0,1);var c=i,s=et()(c,4),u=s[1],l=s[3],d=(((t||{}).webConfig||{}).other||{}).threadTab;if(1!==d&&0!==d||(l="0"),2===d&&(l="1"),3===d&&(n.essence=1),4===d&&(n.attention=1),!u)return nt(nt({},n),{},{sequence:l});if("1"===(null===e||void 0===e||null===(r=e.query)||void 0===r?void 0:r.sequence)&&(l=null===e||void 0===e||null===(a=e.query)||void 0===a?void 0:a.sequence),u||"0"!==l){var f,p,h=u.split("_").map((function(e){return/^\d+$/.test(e)?Number(e):e})).filter((function(e){return e}));return"1"!==l||null!==(f=h)&&void 0!==f&&f.length&&-1===h.indexOf("all")||"h5"!==t.platform||(h=["default"]),null!==(p=h)&&void 0!==p&&p.length||"pc"!==t.platform||(h=["all"]),nt(nt({},n),{},{categoryids:h,sequence:l})}return n}catch(v){return n}}function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function it(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O()(e);if(t){var a=O()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return j()(this,n)}}var ct=Object(x.inject)("site")(Qe=Object(x.inject)("index")(Qe=Object(x.inject)("user")(Qe=Object(x.inject)("baselayout")(Qe=Object(x.inject)("vlist")(Qe=Object(x.inject)("threadList")(Qe=Object(x.observer)(Qe=function(e){v()(n,e);var t=it(n);function n(e){var r;d()(this,n),(r=t.call(this,e)).state={categoryError:!1,categoryErrorText:""},r.page=1,r.prePage=10,r.handleRouterCategory=function(){var e=r.props,t=e.router,n=e.index,a=e.site,o=a.checkSiteIsOpenDefautlThreadListData(),i=rt(t,a),c=i.categoryids,s=i.sequence,u=i.attention,l=i.essence;"1"===s?n.topMenuIndex="".concat(s):1===l?n.topMenuIndex=o?"2":"1":1===u&&(n.topMenuIndex=o?"3":"2"),n.setFilter(i),!Object(Ne.a)()&&r.setUrl(c,s)},r.setUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=null!==e&&void 0!==e&&e.length&&"all"!==e.join("")||0!==parseInt(t,10)?"/cate/".concat(e.join("_"),"/seq/").concat(t):"/";r.props.router.replace(n)},r.dispatch=function(){var e=u()(c.a.mark((function e(t){var n,a,o,i,s,u,l,d,f,p,h,v,b,j,m,O=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=O.length>1&&void 0!==O[1]?O[1]:{},i=r.props.index,s=ot(ot({},i.filter),o),u=s.essence,l=s.sequence,d=s.attention,f=s.sort,p=s.page,h=Object(K.e)(s,"types"),v=Object(K.e)(s,"categoryids"),null!==(n=r.props.index)&&void 0!==n&&null!==(a=n.threadError)&&void 0!==a&&a.isError&&(r.props.index.threadError={isError:!1,errorText:""}),"click-filter"!==t){e.next=16;break}return r.setUrl(s.categoryids,l),r.page=1,r.props.baselayout.setJumpingToTop(),r.props.vlist.setPosition(0),e.next=14,i.screenData({filter:{categoryids:v,types:h,essence:u,attention:d,sort:f},sequence:l,page:r.page});case 14:e.next=43;break;case 16:if("moreData"!==t){e.next=29;break}if(b=r.props.index.threads||{},j=b.currentPage,m=void 0===j?0:j,r.page+=1,!(m<r.page)){e.next=25;break}return e.next=22,i.getReadThreadList({perPage:r.prePage,page:r.page,filter:{categoryids:v,types:h,essence:u,attention:d,sort:f},sequence:l});case 22:return e.abrupt("return",e.sent);case 25:return r.page=m,e.abrupt("return",Promise.resolve());case 27:e.next=43;break;case 29:if("refresh-recommend"!==t){e.next=34;break}return e.next=32,i.getRecommends({categoryIds:v});case 32:e.next=43;break;case 34:if("update-page"!==t){e.next=38;break}r.page=p,e.next=43;break;case 38:if("refresh-thread"!==t){e.next=43;break}return r.page=1,e.next=42,i.getReadThreadList({filter:{categoryids:v,types:h,essence:u,attention:d,sort:f},sequence:l,page:r.page});case 42:return e.abrupt("return",e.sent);case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var a=r.props,o=a.serverIndex,i=a.index;return a.threadList.registerList({namespace:i.namespace}),r.handleRouterCategory(),o&&o.categories&&i.setCategories(o.categories),o&&o.sticks&&i.setSticks(o.sticks),o&&o.threads&&i.setThreads(o.threads),o&&o.threads&&i.setRecommends(o.recommend),o&&o.threadTypelist&&i.setThreadTypelist(o.threadTypelist),r}return p()(n,null,[{key:"getInitialProps",value:function(){var e=u()(c.a.mark((function e(t,n){var r,a,o,i,s,u,l,d,f,p,h,v,b,j,m,O,y,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.user,r=n.site,a=r.platform,o=rt(t,r),i=o.essence,s=void 0===i?0:i,u=o.sequence,l=void 0===u?0:u,d=o.attention,f=void 0===d?0:d,p=o.sort,h=void 0===p?1:p,v=Object(K.e)(o,"types"),b=Object(K.e)(o,"categoryids"),e.next=8,Object(Ae.readCategories)({},t);case 8:return j=e.sent,e.next=11,Object(Ae.readTypelist)();case 11:return m=e.sent,e.next=14,Object(Ae.readStickList)({params:{categoryIds:b}},t);case 14:return O=e.sent,e.next=17,Object(Ae.readThreadList)({params:{perPage:10,page:1,sequence:l,filter:{categoryids:b,types:v,essence:s,attention:f,sort:h}}},t);case 17:if(y=e.sent,g=null,"pc"!==a){e.next=23;break}return e.next=22,Object(Ae.readRecommends)({params:{categoryIds:b}});case 22:g=e.sent;case 23:return e.abrupt("return",{serverIndex:{categories:j&&0===j.code?j.data:null,sticks:O&&0===O.code?O.data:null,threads:y&&0===y.code?y.data:null,recommend:g&&0===g.code?g.data:null,threadTypelit:m&&0===m.code?m.data:[]}});case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),p()(n,[{key:"componentDidMount",value:function(){var e=this.props.index,t=e.filter,n=t.essence,r=void 0===n?0:n,a=t.sequence,o=void 0===a?0:a,i=t.attention,c=void 0===i?0:i,s=t.sort,u=void 0===s?1:s,l=Object(K.e)(e.filter,"types"),d=Object(K.e)(e.filter,"categoryids"),f=!!e.categories,p=!!e.sticks;f||this.props.index.getReadCategories(),this.props.index.fetchThreadTypelist(),p||this.props.index.getRreadStickList(d),e.hasThreadsData?this.page=e.threads.currentPage||1:this.props.index.getReadThreadList({sequence:o,filter:{categoryids:d,types:l,essence:r,attention:c,sort:u}})}},{key:"render",value:function(){var e=(this.props.index||{}).categoryName,t=void 0===e?"":e,n=this.props.canPublish,a=(this.props.site.webConfig||{}).setSite,o=(a=void 0===a?{}:a).siteTitle;return Object(r.jsx)(Ze.a,{h5:Object(r.jsx)(Oe,{dispatch:this.dispatch,canPublish:n}),pc:Object(r.jsx)(Ke,{dispatch:this.dispatch,canPublish:n}),title:t||o||""})}}]),n}(g.a.Component))||Qe)||Qe)||Qe)||Qe)||Qe)||Qe)||Qe;t.default=Object(Ee.a)(ct,(function(e){if(!Object(Ne.a)()&&!Xe.b.env("uc")){var t=window.location.pathname;return"/"===t||"/index"===t||t.indexOf("/cate/")>-1}return e}))},guqU:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");n("4mDm"),n("07d7"),n("YGK4"),n("PKPk"),n("3bBZ"),Object.defineProperty(t,"__esModule",{value:!0}),t.MenuWebLayout=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),c=r(n("PJYZ")),s=r(n("7W2i")),u=r(n("a1gu")),l=r(n("Nsbk")),d=r(n("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),p=n("VTYn"),h=r(n("TSYQ")),v=n("Z36A");function b(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var m=function(e){(0,s.default)(n,e);var t=j(n);function n(e){var r,a,i;(0,o.default)(this,n),i=t.call(this,e);var s,u,l=new Set,d=new Set,f=null!==e&&void 0!==e&&null!==(r=e.defaultSubmenuActives)&&void 0!==r&&r.length?e.defaultSubmenuActives[0]:v.INITIAL_VALUE,p=null!==e&&void 0!==e&&null!==(a=e.defaultActives)&&void 0!==a&&a.length?e.defaultActives[0]:v.INITIAL_VALUE;e.multiple&&((null===e||void 0===e||null===(s=e.defaultSubmenuActives)||void 0===s?void 0:s.length)&&(l=new Set(e.defaultSubmenuActives)),(null===e||void 0===e||null===(u=e.defaultActives)||void 0===u?void 0:u.length)&&(d=new Set(e.defaultActives)));return i.state={hoverSubMenuIndex:v.INITIAL_VALUE,setHoverSubMenuIndex:i.setHoverSubMenuIndex.bind((0,c.default)(i)),currentActiveSubMenuIndex:f,setCurrentActiveSubMenuIndex:i.setCurrentActiveSubMenuIndex.bind((0,c.default)(i)),currentActiveItemIndex:p,setCurrentActiveItemIndex:i.setCurrentActiveItemIndex.bind((0,c.default)(i)),uniqueOpened:e.uniqueOpened,mode:e.mode,menuTrigger:e.menuTrigger,multiple:e.multiple,currentActiveSubMenuIndexSet:l,currentActiveItemIndexSet:d,setCurrentActiveSubMenuIndexSet:i.setCurrentActiveSubMenuIndexSet.bind((0,c.default)(i)),setCurrentActiveItemIndexSet:i.setCurrentActiveItemIndexSet.bind((0,c.default)(i)),defaultOpeneds:e.defaultOpeneds},i}return(0,i.default)(n,[{key:"setHoverSubMenuIndex",value:function(e){this.setState({hoverSubMenuIndex:e})}},{key:"setCurrentActiveSubMenuIndex",value:function(e){this.setState({currentActiveSubMenuIndex:e})}},{key:"setCurrentActiveItemIndex",value:function(e){this.setState({currentActiveItemIndex:e})}},{key:"setCurrentActiveItemIndexSet",value:function(e){this.setState({currentActiveItemIndexSet:e})}},{key:"setCurrentActiveSubMenuIndexSet",value:function(e){this.setState({currentActiveSubMenuIndexSet:e})}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,r=e.mode,a=this.context.clsPrefix,o="".concat(a,"-menu"),i=(0,h.default)(o,n,(0,d.default)({},"".concat(o,"--horizontal"),"horizontal"===r));return f.default.createElement("ul",{className:i,style:t},f.default.createElement(v.MenuContext.Provider,{value:this.state},this.props.children))}}]),n}(f.Component);t.MenuWebLayout=m,(0,d.default)(m,"contextType",p.ConfigContext)},i6QF:function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isInteger:n("Xol8")})},iJNd:function(e,t,n){"use strict";var r=n("TqRt"),a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.CardWebLayout=void 0;var o=r(n("lwsE")),i=r(n("W8MJ")),c=r(n("7W2i")),s=r(n("a1gu")),u=r(n("Nsbk")),l=r(n("lSNA")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(r,i,c):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("q1tI")),f=n("VTYn"),p=r(n("TSYQ"));function h(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var b=function(e){(0,c.default)(n,e);var t=v(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,r=e.bordered,a=e.headerClassName,o=e.headerStyle,i=e.bodyClassName,c=e.bodyStyle,s=e.footerClassName,u=e.footerStyle,f=this.context.clsPrefix,h="".concat(f,"-card"),v=(0,p.default)(h,t,(0,l.default)({},"".concat(h,"--border"),r));return d.default.createElement("div",{style:n,className:v},this.props.header&&d.default.createElement("div",{className:(0,p.default)("".concat(h,"__header"),this.props.fullHeader&&"".concat(h,"__header--full"),a),style:o},this.props.header),d.default.createElement("div",{className:(0,p.default)("".concat(h,"__body"),this.props.fullBody&&"".concat(h,"__body--full"),i),style:c},this.props.children),this.props.footer&&d.default.createElement("div",{className:(0,p.default)("".concat(h,"__footer"),this.props.fullFooter&&"".concat(h,"__footer--full"),s),style:u},this.props.footer))}}]),n}(d.Component);t.CardWebLayout=b,(0,l.default)(b,"contextType",f.ConfigContext)},iehV:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s}));n("TeQF"),n("QWBl"),n("+2oP"),n("sMBO"),n("FZtP");var r=n("pGE/"),a=function(e,t){if(!u(e,t)){var n=t[0];if("all"!==n){var r="";return e.forEach((function(e){var t;"".concat(e.categoryId)==="".concat(n)?r=e.name:null!==(t=e.children)&&void 0!==t&&t.length&&e.children.forEach((function(e){"".concat(e.categoryId)==="".concat(n)&&(r=e.name)}))})),r}}return""},o=function(e,t){if(null===e||void 0===e||!e.length)return[];var n=e.slice(),r=e.filter((function(e){return"default"===e.categoryId}));return t&&!r.length&&n.unshift({name:"\u63a8\u8350",pid:"default",children:[]}),e.filter((function(e){return"all"===e.categoryId})).length||n.unshift({name:"\u5168\u90e8",pid:"all",children:[]}),n},i=function(e,t){var n="all";if(u(e,t))return["all",n];var r=t[0],a=l(r);return(null===t||void 0===t?void 0:t.length)>1||""===a||e.forEach((function(e){var t;if(null!==(t=e.children)&&void 0!==t&&t.length){var o=e.children.filter((function(e){return"".concat(e.categoryId)==="".concat(a)}));o.length&&(r=e.categoryId,n=o[0].categoryId)}})),[r,n]},c=function(e,t){var n,r;if(""===l(t))return[t];var a,o,i=[t],c=e.filter((function(e){return"".concat(e.categoryId)==="".concat(t)}));null!==c&&void 0!==c&&c.length&&null!==(n=c[0])&&void 0!==n&&null!==(r=n.children)&&void 0!==r&&r.length&&(null===(a=c[0])||void 0===a||null===(o=a.children)||void 0===o||o.forEach((function(e){i.push(e.categoryId)})));return i},s=function(e,t){var n;if(r.a.isObject(e)&&e[t]){var a=e[t],o=[];return a&&(o=a instanceof Array?a:[a]),(null===(n=o)||void 0===n?void 0:n.filter((function(e){return"all"!==e&&"default"!==e&&""!==e})))||[]}},u=function(e,t){return r.a.isArray(e)&&(null===e||void 0===e?void 0:e.length)&&r.a.isArray(t)&&(null===t||void 0===t?void 0:t.length)},l=function(e){return"all"===e||"default"===e?"":e}},jJu3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubMenuLogicalAdapter=void 0;var r=(0,n("mlqK").baseAdapterFactory)({defaultAdapter:{},adapterImplement:function(){return n("PYyG").SubMenuWebAdapter}});t.SubMenuLogicalAdapter=r},jwwS:function(e,t,n){"use strict";var r;t.__esModule=!0,t.LoadableContext=void 0;var a=((r=n("q1tI"))&&r.__esModule?r:{default:r}).default.createContext(null);t.LoadableContext=a},kSko:function(e,t,n){n("I+eb")({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},lOmP:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemGroupViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("Unay").MenuItemGroupWebLayout}});t.MenuItemGroupViewAdapter=r},vqe8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubMenuViewAdapter=void 0;var r=(0,n("1d9p").baseLayoutFactory)({layoutImplement:function(){return n("X+na").SubMenuWebLayout}});t.SubMenuViewAdapter=r},y4MR:function(e,t,n){"use strict";n("ma9I"),n("2B1R"),n("+2oP");var r=n("nKUr"),a=(n("q1tI"),n("yuBF")),o=n("wdT/"),i=n.n(o),c=n("20a2"),s=n("YLMC"),u=n("36W7"),l=(n("Q6w4"),n("5WlO"),n("IvHc")),d=n("ZlQF");t.a=Object(a.inject)("user")(Object(a.observer)(Object(c.withRouter)((function(e){var t=e.data,n=void 0===t?[]:t,a=e.router,o=e.platform,c=void 0===o?"h5":o,f=e.user,p=void 0===f?null:f,h=function(e,t){var n;t.stopPropagation();var r=(e||{}).threadId;if("a"!==(null===t||void 0===t||null===(n=t.target)||void 0===n?void 0:n.localName)&&v(e))return a.push("/thread/".concat(r)),!1},v=function(e){return!(null===e||void 0===e||!e.canViewPosts)||(p.isLogin()?i.a.info({content:"\u6682\u65e0\u6743\u9650\u67e5\u770b\u8be6\u60c5\uff0c\u8bf7\u8054\u7cfb\u7ba1\u7406\u5458"}):(i.a.info({content:"\u8bf7\u5148\u767b\u5f55!"}),Object(l.a)({url:"/user/login"})),!1)};return Object(r.jsx)("div",{className:"".concat(s.a.list," top-news"),children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(r.jsxs)("div",{children:[Object(r.jsx)(d.a,{href:"/thread/".concat(e.threadId),text:e.title}),Object(r.jsxs)("div",{className:"top-news-item ".concat(s.a.item," ").concat("pc"===c?s.a.itemPC:s.a.itemH5),onClick:function(t){return h(e,t)},children:[Object(r.jsx)("div",{className:s.a.prefix,children:e.prefix||"\u7f6e\u9876"}),!1,Object(r.jsx)("div",{className:s.a.title,children:Object(r.jsx)(u.a,{onClick:function(t){return h(e,t)},className:s.a.richText,content:e.title})})]},t)]},t)}))})}))))}},[["H0SL",1,0,3,7,2]]]);